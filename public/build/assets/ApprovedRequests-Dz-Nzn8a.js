import{j as e,a as p}from"./app-CM_53ag-.js";import{A as g}from"./AuthenticatedLayout-D4R4wwZx.js";import{t as j,f as n}from"./format-zWY_uF1i.js";import{C as x}from"./circle-check-big-CyQMP5RP.js";import{M as N}from"./map-pin-CuCzhjHC.js";import{U as y,a as m,C as f}from"./users-DYKfnPp_.js";import{C as u}from"./car-Cbx68Keb.js";import{c as v}from"./createLucideIcon-mPmu35-0.js";import"./Dropdown-NYFviwhB.js";import"./transition-CF6lRaLe.js";import"./portal-N1CzU3lS.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],w=v("user-check",b);function _(r){return+j(r)<Date.now()}function B({auth:r,requests:l}){const o=s=>n(new Date(s),"MMM d, yyyy"),i=s=>n(new Date(`2000-01-01 ${s}`),"h:mm a"),{upcoming:a,completed:t}=l.reduce((s,d)=>{const h=new Date(d.date_of_travel);return _(h)?s.completed.push(d):s.upcoming.push(d),s},{upcoming:[],completed:[]}),c=({request:s})=>e.jsxs("div",{className:"bg-white rounded-xl border border-green-200 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden",children:[e.jsx("div",{className:"h-1 bg-gradient-to-r from-green-400 to-green-500"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center",children:e.jsx(N,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-xl text-gray-900",children:s.destination}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.purpose})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 px-3 py-1 rounded-full",children:[e.jsx(x,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium text-sm",children:"Approved"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Passengers"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[s.authorized_passengers,s.authorized_passengers===1?" person":" people"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-50 rounded-lg flex items-center justify-center",children:e.jsx(m,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Travel Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:o(s.date_of_travel)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-50 rounded-lg flex items-center justify-center",children:e.jsx(f,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[s.days_of_travel," ",s.days_of_travel===1?"day":"days",e.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["at ",i(s.time_of_travel)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsx(m,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),e.jsx("p",{className:"font-medium text-gray-900",children:i(s.time_of_travel)})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Assignment Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-50 rounded-lg flex items-center justify-center",children:e.jsx(u,{className:"w-4 h-4 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Vehicle"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.vehicle?`${s.vehicle.description} (${s.vehicle.plate_number})`:e.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-50 rounded-lg flex items-center justify-center",children:e.jsx(w,{className:"w-4 h-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Driver"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.driver?s.driver.name:e.jsx("span",{className:"text-gray-400",children:"Not assigned"})})]})]})]})]})]})]},s.id);return e.jsxs(g,{user:r.user,header:e.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Approved Requests"})}),l.length>0&&e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"bg-blue-50 px-4 py-2 rounded-full",children:e.jsxs("span",{className:"text-blue-700 font-semibold text-sm",children:[a.length," upcoming"]})}),e.jsx("div",{className:"bg-gray-50 px-4 py-2 rounded-full",children:e.jsxs("span",{className:"text-gray-700 font-semibold text-sm",children:[t.length," completed"]})})]})]}),children:[e.jsx(p,{title:"Approved Requests"}),e.jsx("div",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.length===0?e.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-50 rounded-full flex items-center justify-center",children:e.jsx(x,{className:"w-8 h-8 text-green-500"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No approved requests"}),e.jsx("p",{className:"text-gray-500",children:"You don't have any approved travel requests yet."})]}):e.jsxs("div",{className:"space-y-10",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Trips"}),e.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs font-medium px-2.5 py-0.5 rounded-full",children:a.length})]}),a.length>0?e.jsx("div",{className:"space-y-6",children:a.map(s=>e.jsx(c,{request:s},s.id))}):e.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-500",children:"No upcoming trips scheduled"})})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Completed Trips"}),e.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-0.5 rounded-full",children:t.length})]}),t.length>0?e.jsx("div",{className:"space-y-6 opacity-75",children:t.map(s=>e.jsx(c,{request:s},s.id))}):e.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-500",children:"No completed trips yet"})})]})]})})]})}export{B as default};
